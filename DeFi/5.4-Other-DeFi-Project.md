# 其它 DeFi 业务 Building

## DeFi 重要组件

### 预言机
预言机（Oracle）这个名字来源于古代文化和神话中的"神谕"或"预言者"的概念，在古代，人们常常向神殿或特定的预言者求取关于未来或隐藏事物的信息。预言机的作用就是为区块链系统提供外部的、链下的数据，充当了链下世界和链上智能合约之间的桥梁，它的表现仿佛先知一样"预知"了智能合约无法直接访问的信息，因此得名。

之所以需要预言机的存在，是因为公共区块链是一个封闭系统，它本身无法获得外界的信息，但我们的很多业务却需要外界的数据：如交易可能需要知晓某个代币或股票的合理报价；保险可能需要知道某班次的飞机是否延误、天气如何等等。

### 跨链桥
跨链桥的作用是将代币资产或信息在不同区块链之间转移，实现不同网络的互操作性。随着 DeFi 等链上业务的爆发性增长，以太坊一条公链的处理能力显然无法满足，2021 年中旬各种高性能公链和二层网络的兴起满足了这些需求，大幅降低了交易成本，但也将流动性分割到了一条条链上，跨链桥的必要性因此逐渐提高。

跨链桥一般有两种：
1. 官方桥：一般多见于二层网络，以太坊的二层网络往往会设置官方桥，允许各种代币资产在以太坊主网和二层网络之间原子交换。安全性较高，但从二层网络取款时，需要的确认时间可能较长，如 Optimistic Rollup 官方桥从二层网络提款时，需要 7 天左右的时间。
2. 第三方桥：由第三方团队建立，原理是在两条区块链中都部署一定流动性，项目方负责跨链通讯，在 A 链收入代币再在 B 链转出代币的形式完成资产跨链，跨链过程中第三方桥会收取一定手续费。这种方案确认时间短，满足了大量小额跨链需求。但第三方跨链桥自身复杂度极高，也是黑客攻击的重灾区，90% 的黑客攻击事件都发生在第三方跨链桥上，一但出现问题为其提供流动性的客户将收到损失。

## 发展中的 DeFi 业务

### 衍生品与合成资产

前文借贷协议的介绍中，我们已经了解到其核心逻辑是超额抵押和清算，只要抵押了足够多的资产，我们就能保证借出资金的安全。同样使用超额抵押的理念，我们也可以合成许多其它资产。

如我们希望在链上交易黄金，“黄金代币”可以被通过超额抵押足够的资产被铸造出来，铸造出的“黄金代币”类似于“贷款”，合成资产协议也与借贷协议一样，依靠预言机的喂价确认是否清算，来保证“黄金代币”的内在价值。

合成资产的铸造者往往会获得项目治理代币的奖励，但他们需要在黄金暴涨自己抵押品不足时，购回黄金代币销毁以防止自己的抵押品被清算，因此调控“黄金代币”的供应量以调节价格，达到使其跟随国际金价的效果。同理一些股票也可以被合成，但合成资产只追踪其价格，而没有真实股票的分红等收益。

此外传统金融中有做空、做多等金融工具，本质上是借贷和交易的组合，因此在 DeFi 中也可以实现。如做空 ETH ，客户可以加杠杆借出许多 ETH 提前通过 Swap 卖出，再在价格下跌后买回 ETH 归还获利，超额抵押的资金则起到保证金的作用，当抵押资产不足会被链上清算。

### 跨链聚合流动性
目前大量的 DeFi 流动性都分布在各条区块链上，这大大降低了资本利用率和业务体验，因此如何将碎片化的流动性聚合起来成为一个重要课题。

对于聚合流动性，我们目前可以看到行业的发展趋势是：

1. 跨链桥的聚合：整合市面上的各种跨链桥，根据用户的需求进行比价，选择最优路径。这条路径已经实践并相对比较成熟。
2. 由项目方整合不同链的流动性：项目方代为解决后端的交易、跨链等复杂路径，在前端给用户提供一个简洁的统一页面，让用户无需感知实际的复杂路径，完成交易。比如可以将不同链上的 USDT 整合为一个余额，购买后在用户选择的链上统一交付代币。
3. 消息跨链：跨链桥在资产跨链方面已经成熟，目前向着“信息跨链”的方向发展，将来有望实现在 A 链抵押资产，在 B 链借贷资产的情况。
### 保险

保险是很早就被认为与区块链非常契合的业务，早在 DeFi 热潮之前就被市场热捧并尝试过，DeFi 基建成熟后也再一次获得发展，但至今未能形成规模。

主要原因是仍有些重要条件仍未成熟：

1. 包含较大的主观判断因素：如若将车险搬至链上，但发生事故后的定损仍离不开人工审核；对 DeFi 合约被攻击的保险，则难以确定攻击是否是监守自盗，被盗资金能否追回？何时赔付？如何确定损失规模等环节都离不开人工的参与。
2. 规模较小：保险行业盈利的前提在于样本规模足够大时，事情发生的概率符合大数定理，那赔付的概率，合理的利润等等因素就可以进行精算。如现代保险业可以通过交通事故的发生概率、损失规模等数据确定车险的合理价格。但 DeFi 领域的业务规模不够大，且可能存在系统性风险，如可能各个合约使用的代码库在后来被发现存在问题，导致一系列的项目同时爆出风险，无法为风险进行合理定价。
   
但保险也是金融系统的重要组成部分，在将来仍有有可能获得长足发展，如针对借贷协议中偶然的超高利率进行的保险，这种产品就可以完全依赖链上数据运行。

### 债券及票证借贷

目前债券、票证借贷（如将大企业的应收账款抵押折现）等业务在链上的规模还极少，但在未来如 ERC-3525 等新标准将票证接口标准化，底层资产透明化，结合区块链的公开透明自执行，有可能爆发出极大潜力。